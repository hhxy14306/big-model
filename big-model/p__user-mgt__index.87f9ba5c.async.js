"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[892],{70677:function(ve,L,r){r.r(L),r.d(L,{default:function(){return ge}});var A=r(25359),$=r.n(A),V=r(49811),w=r.n(V),J=r(54306),I=r.n(J),m=r(93236),N={userMgtContainer:"userMgtContainer___ej5av",tableHeader:"tableHeader___RhZ_O",searchInput:"searchInput___dgq_0"},X=r(84875),T=r.n(X),Y=r(12503),k=r(67047),K=r(88257),Q=r(88746);const q=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:u,colorSplit:n,lineWidth:a,textPaddingInline:p,orientationMargin:l,verticalMarginInline:d}=e;return{[t]:Object.assign(Object.assign({},(0,k.Wf)(e)),{borderBlockStart:`${a}px solid ${n}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:d,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${a}px solid ${n}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${e.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${e.dividerHorizontalWithTextGutterMargin}px 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${n}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${a}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:`${l*100}%`},"&::after":{width:`${100-l*100}%`}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:`${100-l*100}%`},"&::after":{width:`${l*100}%`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:p},"&-dashed":{background:"none",borderColor:n,borderStyle:"dashed",borderWidth:`${a}px 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:a,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:u}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:u}}})}};var _=(0,K.Z)("Divider",e=>{const t=(0,Q.TS)(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[q(t)]},e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS})),ee=function(e,t){var u={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(u[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(u[n[a]]=e[n[a]]);return u},te=e=>{const{getPrefixCls:t,direction:u,divider:n}=m.useContext(Y.E_),{prefixCls:a,type:p="horizontal",orientation:l="center",orientationMargin:d,className:z,rootClassName:b,children:S,dashed:C,plain:v,style:O}=e,j=ee(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),o=t("divider",a),[y,B]=_(o),x=l.length>0?`-${l}`:l,f=!!S,g=l==="left"&&d!=null,c=l==="right"&&d!=null,i=T()(o,n==null?void 0:n.className,B,`${o}-${p}`,{[`${o}-with-text`]:f,[`${o}-with-text${x}`]:f,[`${o}-dashed`]:!!C,[`${o}-plain`]:!!v,[`${o}-rtl`]:u==="rtl",[`${o}-no-default-orientation-margin-left`]:g,[`${o}-no-default-orientation-margin-right`]:c},z,b),h=m.useMemo(()=>typeof d=="number"?d:/^\d+$/.test(d)?Number(d):d,[d]),Z=Object.assign(Object.assign({},g&&{marginLeft:h}),c&&{marginRight:h});return y(m.createElement("div",Object.assign({className:i,style:Object.assign(Object.assign({},n==null?void 0:n.style),O)},j,{role:"separator"}),S&&p!=="vertical"&&m.createElement("span",{className:`${o}-inner-text`,style:Z},S)))},H=r(67957),M=r(78868),re=r(26686),ne=r(30947),U=r(18347),ae=r(91930),ie=r(57213),W=r.n(ie),D={createUpdateUser:"createUpdateUser___xgU4i",createForm:"createForm___pWZBI"},F=r(81752),G=r(46599),P=r(15367),se=window,oe=se.global_config;function le(e){return oe.localData?new Promise(function(t){setTimeout(function(){t({data:{list:[{user_name:"admin"},{user_name:"admin1"}],total:2},success:!0})},100)}):(0,P.Z)("/bigIntelligence/v1/user/list",{method:"GET",params:e})}function de(e){return(0,P.Z)("/bigIntelligence/v1/user/add",{method:"post",data:e})}function ue(e){return(0,P.Z)("/bigIntelligence/v1/user/update",{method:"put",data:e})}function ce(e){return(0,P.Z)("/bigIntelligence/v1/user/delete",{method:"DELETE",data:e})}function xe(e){return request("/bigIntelligence/v1/user/info",{method:"post",data:e})}var s=r(62086);function me(e){var t=e.visible,u=e.onClose,n=e.record,a=(0,G.useModel)("@@initialState"),p=a.initialState,l=(0,m.useState)(!1),d=I()(l,2),z=d[0],b=d[1],S=F.Z.useForm(),C=I()(S,1),v=C[0],O=(0,m.useMemo)(function(){return JSON.stringify(e.record)==="{}"?"\u6DFB\u52A0\u7528\u6237":"\u4FEE\u6539\u7528\u6237"},[e.record]),j=(0,m.useMemo)(function(){return JSON.stringify(e.record)!=="{}"},[e.record]);(0,m.useEffect)(function(){v.setFieldsValue(n)},[n]);function o(){return y.apply(this,arguments)}function y(){return y=w()($()().mark(function B(){var x,f,g;return $()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return b(!0),i.prev=1,i.next=4,v.validateFields();case 4:return x=i.sent,console.log(x),f=j?ue:de,i.next=9,f(W()(W()({},x),{},{userName:p.name}));case 9:g=i.sent,g.code==="200"?(M.ZP.success("\u521B\u5EFA\u6210\u529F\uFF01"),u()):M.ZP.error("\u521B\u5EFA\u5931\u8D25\uFF01"),i.next=15;break;case 13:i.prev=13,i.t0=i.catch(1);case 15:b(!1);case 16:case"end":return i.stop()}},B,null,[[1,13]])})),y.apply(this,arguments)}return(0,m.useEffect)(function(){t||v.resetFields()},[t]),(0,s.jsx)(H.Z,{title:O,open:t,onOk:o,getContainer:!1,maskClosable:!1,width:"40vw",centered:!0,confirmLoading:z,onCancel:u,className:D.createUpdateUser,children:(0,s.jsxs)(F.Z,{className:D.createForm,form:v,labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",style:{maxWidth:600},children:[(0,s.jsx)(F.Z.Item,{label:"\u7528\u6237\u540D",name:"user_name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}],children:(0,s.jsx)(U.Z,{disabled:j,placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"})}),(0,s.jsx)(F.Z.Item,{label:"\u5BC6\u7801",name:"user_pass",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u5BC6\u7801!"}],children:(0,s.jsx)(U.Z.Password,{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"})})]})})}var fe=r(15911);function ge(e){var t=(0,m.useState)(!1),u=I()(t,2),n=u[0],a=u[1],p=(0,m.useState)({}),l=I()(p,2),d=l[0],z=l[1],b=[{title:"\u7528\u6237\u540D",dataIndex:"user_name",key:"user_name",align:"center",ellipsis:!0},{title:"\u64CD\u4F5C",dataIndex:"operate",key:"operate",align:"center",width:"1.6rem",render:function(g,c){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("a",{onClick:function(){a(!0),z(c)},children:"\u4FEE\u6539\u5BC6\u7801"}),(0,s.jsx)(te,{type:"vertical"}),(0,s.jsx)("a",{onClick:function(){H.Z.confirm({title:"\u786E\u8BA4\u5220\u9664".concat(c.user_name,"?"),onOk:function(){var h=w()($()().mark(function he(){var R;return $()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,ce({names:[c.user_name]});case 2:R=E.sent,R.success?M.ZP.success("\u5220\u9664\u6210\u529F\uFF01"):M.ZP.error("\u5220\u9664\u5931\u8D25\uFF01");case 4:case"end":return E.stop()}},he)}));function Z(){return h.apply(this,arguments)}return Z}()})},children:"\u5220\u9664"})]})}}],S=(0,fe.x)({current:1,pageSize:10,total:0}),C=I()(S,2),v=C[0],O=C[1],j=function(g,c,i){console.log("Various parameters",g,c,i)},o=(0,G.useQuery)(["getUserList"],w()($()().mark(function f(){var g,c;return $()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return g={page:v.current,pageSize:v.pageSize},h.next=3,le(g);case 3:return c=h.sent,c.success&&O(function(Z){Z.total=c.data.total}),h.abrupt("return",c.data.list);case 6:case"end":return h.stop()}},f)}))),y=o.isLoading,B=o.isError,x=o.data;return console.log(x),y?(0,s.jsx)(re.Z,{size:"large",className:T()("center_X_Y_transform")}):(0,s.jsxs)("div",{className:T()(N.userMgtContainer,"boxShadow"),children:[(0,s.jsxs)("div",{className:N.tableHeader,children:[(0,s.jsx)(ne.ZP,{onClick:function(){return a(!0)},type:"primary",children:"\u6DFB\u52A0\u7528\u6237"}),(0,s.jsx)(U.Z.Search,{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",className:N.searchInput})]}),(0,s.jsx)(ae.Z,{rowKey:"user_name",columns:b,dataSource:x,pagination:v,onChange:j}),n&&(0,s.jsx)(me,{visible:n,record:d,onClose:function(){a(!1)}})]})}}}]);
