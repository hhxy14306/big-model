"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[892],{13426:function(se,D,e){e.r(D),e.d(D,{default:function(){return te}});var G=e(25359),p=e.n(G),H=e(49811),P=e.n(H),V=e(54306),i=e.n(V),n=e(93236),y={userMgtContainer:"userMgtContainer___ej5av",tableHeader:"tableHeader___RhZ_O",searchInput:"searchInput___dgq_0"},W=e(84875),T=e.n(W),J=e(26686),K=e(30947),I=e(18347),Q=e(91930),X=e(57213),z=e.n(X),O={createUpdateUser:"createUpdateUser___xgU4i",createForm:"createForm___pWZBI"},S=e(81752),b=e(78868),Y=e(67957),E=e(46599),R=e(15367),w=window,k=w.global_config;function q(a){return k.localData?new Promise(function(u){setTimeout(function(){u({data:{list:[{user_name:"admin"},{user_name:"admin1"}],total:2},success:!0})},100)}):(0,R.Z)("/bigIntelligence/v1/user/list",{method:"GET",params:a})}function _(a){return(0,R.Z)("/bigIntelligence/v1/user/add",{method:"post",data:a})}function re(a){return request("/bigIntelligence/v1/user/update",{method:"post",data:a})}function ne(a){return request("/bigIntelligence/v1/user/delete",{method:"post",data:a})}function ue(a){return request("/bigIntelligence/v1/user/info",{method:"post",data:a})}var t=e(62086);function ee(a){var u=a.visible,v=a.onClose,C=(0,n.useState)([]),f=i()(C,2),j=f[0],x=f[1],U=(0,E.useModel)("@@initialState"),$=U.initialState,L=(0,n.useState)(!1),F=i()(L,2),Z=F[0],d=F[1],M=S.Z.useForm(),N=i()(M,1),l=N[0],B=(0,n.useMemo)(function(){return JSON.stringify(a.record)==="{}"?"\u6DFB\u52A0\u7528\u6237":"\u4FEE\u6539\u7528\u6237"},[a.record]);function A(){return c.apply(this,arguments)}function c(){return c=P()(p()().mark(function m(){var s,h;return p()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return d(!0),r.next=3,l.validateFields();case 3:return s=r.sent,console.log(s),r.next=7,_(z()(z()({},s),{},{userName:$.name}));case 7:h=r.sent,h.code==="200"?(b.ZP.success("\u521B\u5EFA\u6210\u529F\uFF01"),v()):b.ZP.error("\u521B\u5EFA\u5931\u8D25\uFF01"),d(!1);case 10:case"end":return r.stop()}},m)})),c.apply(this,arguments)}(0,n.useEffect)(function(){u||l.resetFields()},[u]);var g=(0,n.useMemo)(function(){return j},[j]);return(0,t.jsx)(Y.Z,{title:B,open:u,onOk:A,getContainer:!1,maskClosable:!1,width:"40vw",centered:!0,confirmLoading:Z,onCancel:v,className:O.createUpdateUser,children:(0,t.jsxs)(S.Z,{className:O.createForm,form:l,labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",style:{maxWidth:600},children:[(0,t.jsx)(S.Z.Item,{label:"\u7528\u6237\u540D",name:"user_name",children:(0,t.jsx)(I.Z,{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"})}),(0,t.jsx)(S.Z.Item,{label:"\u5BC6\u7801",name:"user_pass",children:(0,t.jsx)(I.Z.Password,{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"})})]})})}var ae=e(15911);function te(a){var u=(0,n.useState)(!1),v=i()(u,2),C=v[0],f=v[1],j=(0,n.useState)({}),x=i()(j,2),U=x[0],$=x[1],L=[{title:"\u7528\u6237\u540D",dataIndex:"user_name",key:"user_name",align:"center",ellipsis:!0}],F=(0,ae.x)({current:1,pageSize:10,total:0}),Z=i()(F,2),d=Z[0],M=Z[1],N=function(m,s,h){console.log("Various parameters",m,s,h)},l=(0,E.useQuery)(["getUserList"],P()(p()().mark(function g(){var m,s;return p()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return m={page:d.current,pageSize:d.pageSize},o.next=3,q(m);case 3:return s=o.sent,s.success&&M(function(r){r.total=s.data.total}),o.abrupt("return",s.data.list);case 6:case"end":return o.stop()}},g)}))),B=l.isLoading,A=l.isError,c=l.data;return console.log(c),B?(0,t.jsx)(J.Z,{size:"large",className:T()("center_X_Y_transform")}):(0,t.jsxs)("div",{className:T()(y.userMgtContainer,"boxShadow"),children:[(0,t.jsxs)("div",{className:y.tableHeader,children:[(0,t.jsx)(K.ZP,{onClick:function(){return f(!0)},type:"primary",children:"\u6DFB\u52A0\u7528\u6237"}),(0,t.jsx)(I.Z.Search,{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",className:y.searchInput})]}),(0,t.jsx)(Q.Z,{rowKey:"user_name",columns:L,dataSource:c,pagination:d,onChange:N}),C&&(0,t.jsx)(ee,{visible:C,record:U,onClose:function(){f(!1)}})]})}}}]);
