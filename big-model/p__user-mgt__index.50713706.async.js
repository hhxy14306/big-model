"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[892],{13426:function(de,N,e){e.r(N),e.d(N,{default:function(){return W}});var b=e(25359),h=e.n(b),J=e(49811),z=e.n(J),X=e(54306),$=e.n(X),g=e(93236),O={userMgtContainer:"userMgtContainer___ej5av",tableHeader:"tableHeader___RhZ_O",searchInput:"searchInput___dgq_0"},Y=e(84875),w=e.n(Y),ie=e(67757),T=e(67957),t=e(78868),n=e(26686),m=e(30947),r=e(18347),o=e(20038),j=e(57213),l=e.n(j),d={createUpdateUser:"createUpdateUser___xgU4i",createForm:"createForm___pWZBI"},I=e(81752),U=e(46599),v=e(15367),K=window,Q=K.global_config;function k(i){return Q.localData?new Promise(function(f){setTimeout(function(){f({data:{list:[{user_name:"admin"},{user_name:"admin1"}],total:2},success:!0})},100)}):(0,v.Z)("/bigIntelligence/v1/user/list",{method:"GET",params:i})}function q(i){return(0,v.Z)("/bigIntelligence/v1/user/add",{method:"post",data:i})}function u(i){return(0,v.Z)("/bigIntelligence/v1/user/update",{method:"put",data:i})}function _(i){return(0,v.Z)("/bigIntelligence/v1/user/delete",{method:"DELETE",data:i})}function se(i){return request("/bigIntelligence/v1/user/info",{method:"post",data:i})}var a=e(62086);function L(i){var f=i.visible,C=i.onClose,Z=i.record,E=(0,U.useModel)("@@initialState"),ee=E.initialState,D=(0,g.useState)(!1),G=$()(D,2),te=G[0],R=G[1],re=I.Z.useForm(),A=$()(re,1),p=A[0],ne=(0,g.useMemo)(function(){return JSON.stringify(i.record)==="{}"?"\u6DFB\u52A0\u7528\u6237":"\u4FEE\u6539\u7528\u6237"},[i.record]),V=(0,g.useMemo)(function(){return JSON.stringify(i.record)!=="{}"},[i.record]);(0,g.useEffect)(function(){p.setFieldsValue(Z)},[Z]);function M(){return F.apply(this,arguments)}function F(){return F=z()(h()().mark(function oe(){var P,x,S;return h()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return R(!0),s.prev=1,s.next=4,p.validateFields();case 4:return P=s.sent,console.log(P),x=V?u:q,s.next=9,x(l()(l()({},P),{},{userName:ee.name}));case 9:S=s.sent,S.code==="200"?(t.ZP.success("\u521B\u5EFA\u6210\u529F\uFF01"),C()):t.ZP.error("\u521B\u5EFA\u5931\u8D25\uFF01"),s.next=15;break;case 13:s.prev=13,s.t0=s.catch(1);case 15:R(!1);case 16:case"end":return s.stop()}},oe,null,[[1,13]])})),F.apply(this,arguments)}return(0,g.useEffect)(function(){f||p.resetFields()},[f]),(0,a.jsx)(T.Z,{title:ne,open:f,onOk:M,getContainer:!1,maskClosable:!1,width:"40vw",centered:!0,confirmLoading:te,onCancel:C,className:d.createUpdateUser,children:(0,a.jsxs)(I.Z,{className:d.createForm,form:p,labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",style:{maxWidth:600},children:[(0,a.jsx)(I.Z.Item,{label:"\u7528\u6237\u540D",name:"user_name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"}],children:(0,a.jsx)(r.Z,{disabled:V,placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"})}),(0,a.jsx)(I.Z.Item,{label:"\u5BC6\u7801",name:"user_pass",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u5BC6\u7801!"}],children:(0,a.jsx)(r.Z.Password,{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"})})]})})}var H=e(15911);function W(i){var f=(0,g.useState)(!1),C=$()(f,2),Z=C[0],E=C[1],ee=(0,g.useState)({}),D=$()(ee,2),G=D[0],te=D[1],R=[{title:"\u7528\u6237\u540D",dataIndex:"user_name",key:"user_name",align:"center",ellipsis:!0},{title:"\u64CD\u4F5C",dataIndex:"operate",key:"operate",align:"center",width:"1.6rem",render:function(S,c){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{onClick:function(){E(!0),te(c)},children:"\u4FEE\u6539\u5BC6\u7801"}),(0,a.jsx)(ie.Z,{type:"vertical"}),(0,a.jsx)("a",{onClick:function(){T.Z.confirm({title:"\u786E\u8BA4\u5220\u9664".concat(c.user_name,"?"),onOk:function(){var y=z()(h()().mark(function ue(){var le;return h()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,_({names:[c.user_name]});case 2:le=B.sent,le.success?t.ZP.success("\u5220\u9664\u6210\u529F\uFF01"):t.ZP.error("\u5220\u9664\u5931\u8D25\uFF01");case 4:case"end":return B.stop()}},ue)}));function ae(){return y.apply(this,arguments)}return ae}()})},children:"\u5220\u9664"})]})}}],re=(0,H.x)({current:1,pageSize:10,total:0}),A=$()(re,2),p=A[0],ne=A[1],V=function(S,c,s){console.log("Various parameters",S,c,s)},M=(0,U.useQuery)(["getUserList"],z()(h()().mark(function x(){var S,c;return h()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return S={page:p.current,pageSize:p.pageSize},y.next=3,k(S);case 3:return c=y.sent,c.success&&ne(function(ae){ae.total=c.data.total}),y.abrupt("return",c.data.list);case 6:case"end":return y.stop()}},x)}))),F=M.isLoading,oe=M.isError,P=M.data;return F?(0,a.jsx)(n.Z,{size:"large",className:w()("center_X_Y_transform")}):(0,a.jsxs)("div",{className:w()(O.userMgtContainer,"boxShadow"),children:[(0,a.jsxs)("div",{className:O.tableHeader,children:[(0,a.jsx)(m.ZP,{onClick:function(){return E(!0)},type:"primary",children:"\u6DFB\u52A0\u7528\u6237"}),(0,a.jsx)(r.Z.Search,{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",className:O.searchInput})]}),(0,a.jsx)(o.Z,{rowKey:"user_name",columns:R,dataSource:P,pagination:p,onChange:V}),Z&&(0,a.jsx)(L,{visible:Z,record:G,onClose:function(){E(!1)}})]})}},67757:function(de,N,e){e.d(N,{Z:function(){return T}});var b=e(93236),h=e(84875),J=e.n(h),z=e(12503),X=e(67047),$=e(88257),g=e(88746);const O=t=>{const{componentCls:n,sizePaddingEdgeHorizontal:m,colorSplit:r,lineWidth:o,textPaddingInline:j,orientationMargin:l,verticalMarginInline:d}=t;return{[n]:Object.assign(Object.assign({},(0,X.Wf)(t)),{borderBlockStart:`${o}px solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:d,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${o}px solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${t.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${n}-with-text`]:{display:"flex",alignItems:"center",margin:`${t.dividerHorizontalWithTextGutterMargin}px 0`,color:t.colorTextHeading,fontWeight:500,fontSize:t.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${o}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${n}-with-text-left`]:{"&::before":{width:`${l*100}%`},"&::after":{width:`${100-l*100}%`}},[`&-horizontal${n}-with-text-right`]:{"&::before":{width:`${100-l*100}%`},"&::after":{width:`${l*100}%`}},[`${n}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:j},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${o}px 0 0`},[`&-horizontal${n}-with-text${n}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${n}-dashed`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${n}-with-text`]:{color:t.colorText,fontWeight:"normal",fontSize:t.fontSize},[`&-horizontal${n}-with-text-left${n}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${n}-inner-text`]:{paddingInlineStart:m}},[`&-horizontal${n}-with-text-right${n}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${n}-inner-text`]:{paddingInlineEnd:m}}})}};var Y=(0,$.Z)("Divider",t=>{const n=(0,g.TS)(t,{dividerHorizontalWithTextGutterMargin:t.margin,dividerHorizontalGutterMargin:t.marginLG,sizePaddingEdgeHorizontal:0});return[O(n)]},t=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:t.marginXS})),w=function(t,n){var m={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(m[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(m[r[o]]=t[r[o]]);return m},T=t=>{const{getPrefixCls:n,direction:m,divider:r}=b.useContext(z.E_),{prefixCls:o,type:j="horizontal",orientation:l="center",orientationMargin:d,className:I,rootClassName:U,children:v,dashed:K,plain:Q,style:k}=t,q=w(t,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),u=n("divider",o),[_,se]=Y(u),a=l.length>0?`-${l}`:l,L=!!v,H=l==="left"&&d!=null,W=l==="right"&&d!=null,i=J()(u,r==null?void 0:r.className,se,`${u}-${j}`,{[`${u}-with-text`]:L,[`${u}-with-text${a}`]:L,[`${u}-dashed`]:!!K,[`${u}-plain`]:!!Q,[`${u}-rtl`]:m==="rtl",[`${u}-no-default-orientation-margin-left`]:H,[`${u}-no-default-orientation-margin-right`]:W},I,U),f=b.useMemo(()=>typeof d=="number"?d:/^\d+$/.test(d)?Number(d):d,[d]),C=Object.assign(Object.assign({},H&&{marginLeft:f}),W&&{marginRight:f});return _(b.createElement("div",Object.assign({className:i,style:Object.assign(Object.assign({},r==null?void 0:r.style),k)},q,{role:"separator"}),v&&j!=="vertical"&&b.createElement("span",{className:`${u}-inner-text`,style:C},v)))}}}]);
